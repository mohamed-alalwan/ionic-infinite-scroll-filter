<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Products
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <!--Filter-->
    <ion-item>
      <ion-item style="width:100%" >
        <ion-input placeholder="Search..." (input)="setSearch($event)"></ion-input>
        <ion-icon name="search"></ion-icon>
      </ion-item>
      
      <ion-select style="width:100%;" (ionChange)="setSort($event)" placeholder="Sort By">
        <ion-select-option value="0">Highest Price</ion-select-option>
        <ion-select-option value="1">Lowest Price</ion-select-option>
      </ion-select>
    </ion-item>

  <!--ion list-->
  <ion-list style="padding-top:0;">
    <ion-item *ngFor="let product of shownProducts">
      <ion-thumbnail slot="start">
        <img style="object-fit: contain;" [src]="product.FullScanPath">
      </ion-thumbnail>
      <ion-label>
        <h2>{{ product.ItemName }}</h2>
        <h3>{{ product.SubCategoryName }}</h3>
        <p>{{ product.CustomerCategoryTypeTitle }} - {{ product.CategoryName }}</p>
        <p>Price: {{ product.Price }}</p>
      </ion-label>
    </ion-item>
    <ion-infinite-scroll (ionInfinite)="loadMore($event)" threshold="100px" [disabled]='this.shownProducts.length === this.products.length'>
      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more items...">
      </ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </ion-list>

</ion-content>
